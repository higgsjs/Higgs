Higgs
=====

Higgs JavaScript Virtual Machine

Interpreter and tracing JIT for JavaScript targetting x86-64 platforms.

**Requirements:**

- D compiler (DMD recommended)
- POSIX compliant OS (Linux, Unix, MacOS X)
- x86 64-bit CPU (if using the JIT compiler)
- Python 2.7 (if regenerating object layouts or instruction encodings)

**Quickstart:**

`cd` to the `source` directory.

`make` will generate the object layouts and produce a binary `higgs`.

`make test` will generate the object layouts, produce a test binary `test-higgs`, and run the unit tests.

`make clean` will remove the files generated by `make` and `make test`.

If you wish to specify a directory other than `source` for the binary, override `BIN_DIR` when you call make:
`make BIN_DIR=/path/to/your/dir`
will produce a binary and copy the needed runtime files to the specified directory.

For further info, see the `makefile`.

**Usage:**

`higgs` will start Higgs and give you a REPL (read-eval-print loop).

To execute one or more files, pass them to `higgs`:

`higgs file1.js file2.js`

The `--e` option accepts a string to execute:

`higgs --e "var x = 4; x = x + 5; print(x)"`

The `--repl` option will start a REPL after evaluating a string and/or files:

`higgs --repl file1.js` will evaluate `file1.js` and then start a REPL.

`higgs file1.js` will evaluate `file1.js` and then exit.

The `--jit_disable` option will disable the JIT compiler and rely solely on the interpreter.

The `--jit_dumpasm` option will dump the assembler code generated by the JIT to the console.

**Notes:**
 - You may wish to use the `rlwrap` to provide a better REPL experience.